#!/usr/bin/env python3

import sys
import os
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

try:
    from services.perfect_biometric_service import perfect_biometric_service
    print("Service imported successfully")
    
    # Test with minimal data
    test_data = {
        "Center": "data:image/jpeg;base64,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"
    }
    
    print("Testing biometric registration...")
    result = perfect_biometric_service.register_perfect_biometric("TEST_DEBUG", test_data)
    print(f"Result: {result}")
    
except Exception as e:
    print(f"Error: {e}")
    import traceback
    traceback.print_exc()